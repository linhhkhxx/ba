<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Quản lý Xe - Nhà Xe Thăng Long</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"/>
  <style>
    :root {
      --primary: #4361ee;
      --sidebar-bg: #0f0f1a;
      --sidebar-hover: #1e1e2e;
      --border-radius: 20px;
      --green: #10b981;
      --blue: #3b82f6;
      --yellow: #f59e0b;
      --red: #ef4444;
    }
    * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Segoe UI', sans-serif; }
    body { background: #f8fafc; color: #333; display: flex; min-height: 100vh; }

    .sidebar {
      width: 280px; background: var(--sidebar-bg); color: white; padding: 30px 20px;
      position: fixed; height: 100vh; overflow-y: auto;
      border-radius: 0 var(--border-radius) var(--border-radius) 0;
      box-shadow: 8px 0 30px rgba(0,0,0,0.4); z-index: 1000;
    }
    .user-info { display: flex; align-items: center; gap: 14px; padding-bottom: 24px; border-bottom: 1px solid #2d2d44; margin-bottom: 30px; }
    .user-info img { width: 52px; height: 52px; border-radius: 50%; object-fit: cover; border: 3px solid #374151; }
    .user-info .info h3 { font-size: 17px; font-weight: 600; margin-bottom: 4px; }
    .user-info .info p { font-size: 13px; color: #94a3b8; }
    .menu-title { text-transform: uppercase; font-size: 11px; color: #64748b; letter-spacing: 1.5px; margin:20px 0 12px; font-weight:600; }
    .menu { list-style: none; }
    .menu li { margin-bottom: 4px; }
    .menu a { display: flex; align-items: center; gap: 14px; padding: 14px 18px; color: #94a3b8; text-decoration:none; border-radius:14px; transition:all .3s; font-size:15px; font-weight:500; }
    .menu a i { font-size: 18px; width: 24px; text-align: center; }
    .menu a:hover { background: var(--sidebar-hover); color: white; }
    .menu a.active { background: white !important; color: var(--primary) !important; font-weight: 600; box-shadow: 0 6px 20px rgba(67,97,238,.25); }
    .menu a.active i { color: var(--primary) !important; }

    .main-content { flex: 1; margin-left: 280px; padding: 30px; background: #f1f5f9; min-height: 100vh; }

    /* TOP-BAR ĐÃ ĐỒNG NHẤT VỚI TRANG CHI TIẾT */
    .top-bar {
      background: white; padding: 20px 30px; border-radius: var(--border-radius);
      box-shadow: 0 4px 20px rgba(0,0,0,.06); display: flex; justify-content: space-between;
      align-items: center; margin-bottom: 30px;
    }
    .greeting { font-size: 18px; font-weight: 500; color: #1e293b; }
    .greeting span { color: #94a3b8; font-size: 16px; }
    .notification {
      position: relative; width: 40px; height: 40px; background: #f1f5f9;
      border-radius: 12px; display: flex; align-items: center; justify-content: center; cursor: pointer;
    }
    .notification .badge {
      position: absolute; top: -4px; right: -4px; background: #ef4444;
      color: white; font-size: 10px; width: 18px; height: 18px; border-radius: 50%;
      display: flex; align-items: center; justify-content: center;
    }

    .page-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 24px; }
    .page-header h1 { font-size: 26px; font-weight: 600; color: #1e293b; }
    .btn-add { background: var(--primary); color: white; border: none; padding: 12px 24px; border-radius: 12px; font-size: 15px; cursor: pointer; font-weight: 500; display: flex; align-items: center; gap: 8px; transition: .3s; }
    .btn-add:hover { background: #3651d4; }

    .stats-grid { display: grid; grid-template-columns: repeat(5,1fr); gap: 16px; margin-bottom: 30px; }
    .stat-card { background: white; padding: 20px; border-radius: 16px; box-shadow: 0 4px 15px rgba(0,0,0,.05); text-align: center; }
    .stat-card h3 { font-size: 14px; color: #64748b; margin-bottom: 8px; }
    .stat-card .number { font-size: 28px; font-weight: 700; }
    .stat-card.ready .number { color: var(--green); }
    .stat-card.running .number { color: var(--blue); }
    .stat-card.maintenance .number { color: var(--yellow); }
    .stat-card.broken .number { color: var(--red); }

    .filter-bar { margin-bottom: 20px; display: flex; align-items: center; gap: 12px; flex-wrap: wrap; }
    .search-input { padding: 10px 16px; border: 1px solid #e2e8f0; border-radius: 12px; background: white; font-size: 14px; min-width: 280px; }
    .filter-select { padding: 10px 16px; border: 1px solid #e2e8f0; border-radius: 12px; background: white; font-size: 14px; }

    table { width: 100%; border-collapse: collapse; background: white; border-radius: 16px; overflow: hidden; box-shadow: 0 4px 20px rgba(0,0,0,.05); }
    thead { background: #f8fafc; }
    th, td { padding: 16px; text-align: left; font-size: 14.5px; }
    th { color: #475569; font-weight: 600; }
    tbody tr:hover { background: #f8fafc; }
    .status { padding: 6px 14px; border-radius: 30px; font-size: 13px; font-weight: 500; }
    .status.ready { background: #dcfce7; color: #166534; }
    .status.running { background: #dbeafe; color: #1e40af; }
    .status.maintenance { background: #fef9c3; color: #92400e; }
    .status.broken { background: #fee2e2; color: #991b1b; }
    .actions a { margin-right: 12px; color: #64748b; font-size: 18px; cursor: pointer; transition: .3s; }
    .actions a:hover { color: var(--primary); }

    /* MODAL giữ nguyên */
    .modal { display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.5); align-items: center; justify-content: center; z-index: 9999; }
    .modal.active { display: flex; }
    .modal-content { background: white; width: 90%; max-width: 700px; border-radius: 16px; box-shadow: 0 10px 40px rgba(0,0,0,0.3); overflow: hidden; animation: zoom .3s; }
    @keyframes zoom { from {transform:scale(0.9);opacity:0} to {transform:scale(1);opacity:1} }
    .modal-header { padding: 20px; background: var(--primary); color: white; font-size: 18px; font-weight: 600; display: flex; justify-content: space-between; align-items: center; }
    .modal-body { padding: 30px; max-height: 70vh; overflow-y: auto; }
    .modal-footer { padding: 16px 30px; background: #f8fafc; display: flex; gap: 12px; justify-content: flex-end; }
    .form-group { margin-bottom: 20px; }
    .form-group label { display: block; margin-bottom: 8px; font-weight: 500; color: #374151; }
    .form-group label span.required { color: var(--red); }
    .form-group input,.form-group select,.form-group textarea { width:100%; padding:12px 16px; border:1px solid #e2e8f0; border-radius:12px; font-size:14px; }
    .form-row { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
    .upload-area { border: 2px dashed #c7d2fe; border-radius:12px; padding:20px; text-align:center; background:#f8fafc; cursor:pointer; transition:.3s; }
    .upload-area:hover { background:#e0e7ff; }
    .upload-area i { font-size:32px; color:var(--primary); margin-bottom:12px; }
    .file-list { margin-top:12px; }
    .file-item { display:flex; align-items:center; gap:10px; padding:8px; background:#e0e7ff; border-radius:8px; margin-bottom:8px; }
    .btn-modal { padding:10px 24px; border:none; border-radius:12px; cursor:pointer; font-weight:500; }
    .btn-modal-primary { background:var(--primary); color:white; }
    .btn-modal-secondary { background:#e2e8f0; color:#475569; }

    @media (max-width:992px){
      .sidebar{width:80px;padding:20px 10px;}
      .sidebar .user-info .info,.sidebar .menu-title,.sidebar .menu a span{display:none;}
      .sidebar a{justify-content:center;}
      .main-content{margin-left:80px;}
      .stats-grid{grid-template-columns:repeat(3,1fr);}
      .form-row{grid-template-columns:1fr;}
    }
  </style>
</head>
<body>

  <aside class="sidebar">
    <div class="user-info">
      <img src="https://randomuser.me/api/portraits/women/44.jpg" alt="User">
      <div class="info">
        <h3>ADMIN</h3>
        <p>Nhân viên điều hành</p>
      </div>
    </div>
    <p class="menu-title">MAIN MENU</p>
    <ul class="menu">
      <li><a href="#"><i class="fas fa-clock"></i> <span>Phân xe tự động</span></a></li>
      <li><a href="#"><i class="fas fa-users"></i> <span>Quản lý tài khoản</span></a></li>
      <li><a href="#"><i class="fas fa-user-tie"></i> <span>Quản lý tài xế</span></a></li>
      <li><a href="#"><i class="fas fa-map-marked-alt"></i> <span>Quản lý tuyến & giá vé</span></a></li>
      <li><a href="#" class="active"><i class="fas fa-car-side"></i> <span>Quản lý thông tin xe</span></a></li>
    </ul>
  </aside>

  <main class="main-content">
    <!-- TOP-BAR ĐÃ ĐỒNG NHẤT HOÀN TOÀN -->
    <div class="top-bar">
      <div class="greeting">Chào buổi sáng, ADMIN <span>bạn có 2 thông báo mới</span></div>
      <div class="notification">
        <i class="fas fa-bell" style="font-size:18px;color:#64748b;"></i>
        <div class="badge">2</div>
      </div>
    </div>

    <div class="page-header">
      <h1>Quản lý Thông tin Xe</h1>
      <button class="btn-add" onclick="openModal('addVehicleModal')">
        <i class="fas fa-plus"></i> Thêm xe mới
      </button>
    </div>

    <!-- Phần còn lại giữ nguyên như cũ -->
    <div class="stats-grid">
      <div class="stat-card"><h3>Tổng số xe</h3><div class="number">38</div></div>
      <div class="stat-card ready"><h3>Sẵn sàng</h3><div class="number">22</div></div>
      <div class="stat-card running"><h3>Đang chạy</h3><div class="number">9</div></div>
      <div class="stat-card maintenance"><h3>Bảo dưỡng</h3><div class="number">5</div></div>
      <div class="stat-card broken"><h3>Hỏng/Sửa chữa</h3><div class="number">2</div></div>
    </div>

    <div class="filter-bar">
      <i class="fas fa-filter" style="color:#64748b;"></i>
      <input type="text" class="search-input" placeholder="Tìm kiếm biển số, hãng xe...">
      <select class="filter-select">
        <option>Tất cả trạng thái</option>
        <option>Sẵn sàng</option>
        <option>Đang chạy</option>
        <option>Bảo dưỡng</option>
        <option>Hỏng</option>
      </select>
    </div>

    <table>
      <thead>
        <tr>
          <th>Biển số</th>
          <th>Loại xe</th>
          <th>Số ghế</th>
          <th>Hãng xe</th>
          <th>Trạng thái</th>
          <th>Tài xế</th>
          <th>Hướng đi</th>
          <th>Thao tác</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><strong>29B-12345</strong></td>
          <td>Limousine 29 chỗ</td>
          <td>29</td>
          <td>Hyundai County</td>
          <td><span class="status ready">Sẵn sàng</span></td>
          <td>Nguyễn Văn Hùng</td>
          <td>Hà Nội → Thái Bình</td>
          <td class="actions">
            <a href="chi tiết xe.html"><i class="fas fa-eye"></i></a>
            <a href="#"><i class="fas fa-edit"></i></a>
            <a href="#"><i class="fas fa-trash-alt"></i></a>
          </td>
        </tr>
        <tr>
          <td><strong>30F-67890</strong></td>
          <td>Giường nằm 42 chỗ</td>
          <td>42</td>
          <td>Thaco Mobihome</td>
          <td><span class="status running">Đang chạy</span></td>
          <td>Trần Văn Long</td>
          <td>Hà Nội → Hải Phòng</td>
          <td class="actions">
            <a href="#"><i class="fas fa-eye"></i></a>
            <a href="#"><i class="fas fa-edit"></i></a>
            <a href="#"><i class="fas fa-trash-alt"></i></a>
          </td>
        </tr>
        <tr>
          <td><strong>29A-99999</strong></td>
          <td>Limousine 34 chỗ</td>
          <td>34</td>
          <td>Fuso Rosa</td>
          <td><span class="status broken">Không hoạt động</span></td>
          <td>—</td>
          <td>—</td>
          <td class="actions">
            <a href="#"><i class="fas fa-eye"></i></a>
            <a href="#"><i class="fas fa-edit"></i></a>
            <a href="#"><i class="fas fa-trash-alt"></i></a>
          </td>
        </tr>
        <tr>
          <td><strong>29C-11111</strong></td>
          <td>Xe khách 45 chỗ</td>
          <td>45</td>
          <td>Hyundai Universe</td>
          <td><span class="status maintenance">Bảo dưỡng</span></td>
          <td>—</td>
          <td>—</td>
          <td class="actions">
            <a href="#"><i class="fas fa-eye"></i></a>
            <a href="#"><i class="fas fa-edit"></i></a>
            <a href="#"><i class="fas fa-trash-alt"></i></a>
          </td>
        </tr>
        <tr>
          <td><strong>30E-55555</strong></td>
          <td>Limousine 29 chỗ</td>
          <td>29</td>
          <td>Hyundai Solati</td>
          <td><span class="status ready">Sẵn sàng</span></td>
          <td>Chưa phân tài xế</td>
          <td>—</td>
          <td class="actions">
            <a href="#"><i class="fas fa-eye"></i></a>
            <a href="#"><i class="fas fa-edit"></i></a>
            <a href="#"><i class="fas fa-trash-alt"></i></a>
          </td>
        </tr>

      </tbody>
    </table>
  </main>

  <!-- MODAL THÊM XE MỚI – ĐÃ ĐỒNG NHẤT VỚI MODAL CHỈNH SỬA -->
  <div id="addVehicleModal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <span>Thêm xe mới vào hệ thống</span>
        <i class="fas fa-times" onclick="closeModal('addVehicleModal')" style="cursor:pointer;font-size:22px;"></i>
      </div>
      <div class="modal-body">
        <div class="form-row">
          <div class="form-group">
            <label>Biển số xe <span class="required">*</span></label>
            <input type="text" placeholder="Ví dụ: 29A-12345" required>
          </div>
          <div class="form-group">
            <label>Loại xe <span class="required">*</span></label>
            <select required>
              <option value="">-- Chọn loại xe --</option>
              <option>Limousine 29 chỗ</option>
              <option>Limousine 34 chỗ</option>
              <option>Giường nằm 42 chỗ</option>
              <option>Xe khách 45 chỗ</option>
              <option>Xe 16 chỗ</option>
            </select>
          </div>
        </div>

        <div class="form-row">
          <div class="form-group">
            <label>Hãng xe</label>
            <input type="text" placeholder="Hyundai, Thaco, Fuso...">
          </div>
          <div class="form-group">
            <label>Số ghế <span class="required">*</span></label>
            <input type="number" min="16" max="50" placeholder="42" required>
          </div>
        </div>

        <div class="form-row">
          <div class="form-group">
            <label>Tuyến chạy <span class="required">*</span></label>
            <select required>
              <option value="">-- Chọn tuyến chạy --</option>
              <option>HN → HP</option>
              <option>HP → HN</option>
              <option>HN → NB</option>
              <option>NB → HN</option>
              <option>HN → TH</option>
              <option>Không cố định</option>
            </select>
          </div>
          <div class="form-group">
            <label>Trạng thái ban đầu</label>
            <select>
              <option>Sẵn sàng</option>
              <option>Đang chạy</option>
              <option>Bảo dưỡng</option>
              <option>Hỏng/Sửa chữa</option>
              <option>Ngừng hoạt động</option>
            </select>
          </div>
        </div>

        <div class="form-group">
          <label>Ghi chú</label>
          <textarea rows="3" placeholder="Thông tin bổ sung như màu xe, năm sản xuất, tiện nghi..."></textarea>
        </div>

        <hr style="margin:30px 0; border:none; border-top:1px solid #e2e8f0;">

        <h4 style="margin-bottom:16px; color:#1e293b;">Tải lên giấy tờ xe (bắt buộc khi thêm mới)</h4>
        <div class="form-row">
          <div class="form-group">
            <label>Giấy đăng kiểm <span class="required">*</span></label>
            <div class="upload-area" onclick="document.getElementById('dangKiemAdd').click()">
              <i class="fas fa-cloud-upload-alt"></i>
              <p>Kéo thả file hoặc click để chọn</p>
              <small>PDF, JPG, PNG - Tối đa 5MB</small>
              <input type="file" id="dangKiemAdd" accept=".pdf,.jpg,.jpeg,.png" multiple style="display:none;" required>
            </div>
            <div id="dangKiemAdd-list" class="file-list"></div>
          </div>
          <div class="form-group">
            <label>Bảo hiểm trách nhiệm dân sự <span class="required">*</span></label>
            <div class="upload-area" onclick="document.getElementById('baoHiemAdd').click()">
              <i class="fas fa-cloud-upload-alt"></i>
              <p>Kéo thả file hoặc click để chọn</p>
              <small>PDF, JPG, PNG - Tối đa 5MB</small>
              <input type="file" id="baoHiemAdd" accept=".pdf,.jpg,.jpeg,.png" multiple style="display:none;" required>
            </div>
            <div id="baoHiemAdd-list" class="file-list"></div>
          </div>
        </div>
      </div>

      <div class="modal-footer">
        <button class="btn-modal btn-modal-secondary" onclick="closeModal('addVehicleModal')">Hủy</button>
        <button class="btn-modal btn-modal-primary" onclick="addNewVehicle()">Thêm xe</button>
      </div>
    </div>
  </div>

  <script>
    function openModal(id) {
      document.getElementById(id).classList.add('active');
    }
    function closeModal(id) {
      document.getElementById(id).classList.remove('active');
    }

    // Xử lý upload file (nếu cần)
    ['dangKiemAdd', 'baoHiemAdd'].forEach(id => {
      document.getElementById(id).addEventListener('change', function() {
        const list = document.getElementById(id + '-list');
        list.innerHTML = '';
        Array.from(this.files).forEach(file => {
          const div = document.createElement('div');
          div.className = 'file-item';
          div.innerHTML = `<i class="fas fa-file-pdf"></i> ${file.name} <small>(${Math.round(file.size/1024)} KB)</small>`;
          list.appendChild(div);
        });
      });
    });

    function addNewVehicle() {
      alert('Đã thêm xe mới thành công!');
      closeModal('addVehicleModal');
    }
  </script>
</body>
</html>